group 'de.eugen_feit'
version ''

apply plugin: 'groovy'
apply plugin: 'java'

sourceCompatibility = 1.8

repositories {
	mavenCentral()
}

dependencies {
	compile 'org.codehaus.groovy:groovy-all:2.4.5'
	testCompile group: 'junit', name: 'junit', version: '4.11'
	testCompile 'org.spockframework:spock-core:1.0-groovy-2.4'
	testRuntime 'cglib:cglib-nodep:3.1'
}

sourceSets {
	main {
		java { srcDirs = [] }    // no source dirs for the java compiler
		groovy { srcDirs = ["src/main/java", "src/main/groovy"] }  // compile   everything in src/ with groovy
	}
}

jar {
	manifest {
		attributes 'Main-Class': 'Main'
	}

	from {
		configurations.compile.collect { it.isDirectory() ? it : zipTree(it) }
	}

	baseName 'stub'
}
